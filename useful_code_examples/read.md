Как я уже упоминал ранее, есть некоторые уточнения, которые можно внести в алгоритм, впервые упомянутый автором выше. Во-первых, когда вы разделяете пограничные плитки (я называю это созданием последовательности связанных плиток) и приступаете к созданию решений для каждой последовательности, ограничьте количество разрешенных мин текущим количеством мин минус количество последовательностей плюс 1. Конечно, в конечной игре у вас будет одна последовательность, поэтому вы ограничите максимальное и минимальное количество мин фактическим количеством мин.

Теперь вторая, более интересная часть. Если сумма максимальных мин, использованных для всех последовательностей, превышает количество мин, вы можете вернуться назад и перепроверить возможные решения, уменьшив максимальный предел. Например, мы находим три последовательности с минимальным и максимальным количеством мин (2,2), (11,13) и (2,2), но осталось только 15 мин. Поэтому мы перепроверяем решения для второй последовательности, ограничивая ее 11 минами. Или предположим, что вы нашли четыре последовательности с минимальным и максимальным количеством мин: (1,1), (4,6), (6,8) и (1,1), но осталось только 13 мин. Это означает, что мы не можем использовать 6 мин во второй последовательности и 8 мин в третьей. Поэтому теперь мы можем вернуться и перепроверить эти две последовательности, используя максимум 5 и 7 соответственно.

Третья оптимизация возникает, когда у нас есть ситуации, когда последовательности занимают все оставшиеся нераскрытые позиции в головоломке, но конечная игра еще не вызвана, есть более одной последовательности и min != max. Например, у нас есть две последовательности с минимальным и максимальным количеством мин (5,6) и (2,3) с 8 оставшимися минами. Первая последовательность имеет 4 решения, а вторая - 3, и нет очевидного выбора, куда играть. Однако если мы объединим эти две последовательности в одну и вызовем конечную игру, то обнаружим, что существует 8 решений, но в одном месте вероятность появления мины равна 0%!

Это приводит к очевидному правилу, которое не упоминалось выше. После использования метода танков, если у вас есть любая позиция со 100% шансом на мину или 0% шансом на мину, то делайте очевидный выбор.

Однако, если у вас есть равные возможности выбора между двумя или более местами, есть причины предпочесть одно другому. В приведенном автором примере, где есть несколько мест со счетом два, я вижу два места, где я бы сыграл лучше, чем в других. В любом случае, когда у вас есть три плитки в ряду или колонке, часто лучше играть в середине, прилегающей к ним, чтобы, если одна из них будет выставлена, мы могли сделать какой-то очевидный выбор, чтобы выставить целых три других плитки. Однако, если вы выбрали диагональные позиции, есть немного значений, которые помогут. Поэтому в моей четвертой оптимизации есть метод оценки, который я не буду здесь рассматривать, но он выбирает эти более вероятные места.

Одна оптимизация, которую я не проводил, заключается в том, чтобы выставлять мину там, где вероятность ее появления выше, чем выставлять неминный вход. Я также не делал никаких прогнозов на будущее (если я поставлю мину здесь, поможет ли это сделать очевидный выбор). Я рассмотрю эти вопросы позже.

У меня также есть второй метод для угадывания, который не использует метод резервуара, и я опишу его когда-нибудь в будущем.

Я забыл упомянуть, что оригинальные 6000 проб используют некоторые начальные параметры, которые могут быть не оптимальными (start=3,3 endplay=14, offset=-.03). Я объясню эти цифры позже.

Я работаю над этой программой и каждый день нахожу ошибки или улучшения. Когда я закончу, я опубликую более точные цифры. Пока же я пытаюсь выяснить, почему некоторые стартовые позиции дают лучшие результаты, чем другие.


Как я уже упоминал, существует еще один тип угадывания, который можно использовать. Я называю эту версию guess1, а оригинальную версию, приведенную выше, я называю guess2. В любом случае, когда вы создаете связанные последовательности записей, необходимые для метода tank, сохраните минимальное и максимальное количество мин, используемых для каждой последовательности. Теперь все оставшиеся нераскрытые записи минус все записи в списке последовательностей могут быть использованы для создания нового списка, который я называю свободным списком. Оцените количество мин в этой свободной области, взяв сумму (min + max) / 2 мин для каждой последовательности. Теперь вероятность получить мину в свободной области равна количеству свободных записей, деленному на оценку количества мин. Теперь, если эти шансы ниже, чем лучшее предположение по методу танка, вы можете использовать предположение1.

Если вы используете метод guess1, вы можете пойти двумя разными путями. Вы можете выбрать запись рядом с последовательностью, чтобы помочь поддержать любую последовательность. Это первый вариант, потому что вы, скорее всего, получите помощь, которая поможет решить большую часть головоломки. Я ищу ситуации, которые выглядят следующим образом:
XXX
- - -
?
Я выберу запись ?, даже если одна из позиций X находится за краем. На самом деле мой метод немного сложнее, но я пропущу подробности. Если я не могу найти такую ситуацию, я попытаюсь найти свободную позицию с наименьшим количеством свободных позиций вокруг нее. Цель состоит в том, чтобы обнаружить область, вокруг которой нет мин. Почти всегда это угол, но если он занят, то подойдет и край. Я не буду заполнять запись, окруженную минами, если нет 100% вероятности, что это не мина.

Поскольку шансы для guess1 являются лишь приблизительными, я добавил смещение к шансам, чтобы попытаться оптимизировать лучшее время для его использования. Я назвал это смещением для guess1, и после выполнения 12 000 проб результаты показаны в следующей таблице. Итак, я решил использовать -3%. Это означает, что если вероятность появления мины в свободной зоне минус 3% меньше, чем вероятность при использовании угадывания2, то мы используем угадывание1.
Средний процент Стд. Dev.
------------
-0.06 46.50% .42%
-0.05 46.70% .43%
-0.04 46.70% .43%
-0.03 46.77% .43%
-0.02 46.57% .43%

Далее я предоставлю информацию о наилучшем значении "end play", которое представляет собой количество оставшихся записей до того, как мы применим метод "end play".

BTW 50%, приведенные автором, имеют стандартное отклонение 6,2% для 67 образцов, которые он использовал. Так что да, ему повезло.

Я хочу сообщить вам последние новости. Последнюю информацию можно найти по ссылке ниже. Короче говоря, вместо оценки вероятности, когда у меня есть списки танков (площадь периметра) с разным количеством мин, я теперь рассчитываю точную вероятность. Кроме того, я могу рассчитать точную вероятность и для непериметровой зоны, так что мне больше не нужно смещение guess1. Это приводит к значительному увеличению шансов на победу. Например, в игре эксперта он повышается до более чем 52%. Кроме того, было отмечено, что когда я угадываю, я должен рассмотреть возможность уменьшения пространства решения, чтобы уменьшить количество угадываний. Также оказалось, что мой guess1 должен беспокоиться только о том, чтобы угадывать прилегающие к периметру области. Это помогает еще на полпроцента. Кроме того, я сейчас занимаюсь внедрением игрового дерева, чтобы улучшить угадывание, потому что лучшая догадка может не дать шанса решить головоломку (см. примеры на Reddit). Есть человек (BinaryChop), который создал решатель со следующими вероятностями победы, как показано по ссылке ниже:
эксперт 53,3% (50 000 примеров), начиная с 3,3
средний 88.9% (50,000 примеров), начиная с 3,3
новичок 97,224% (200 000 проб), начиная с 2,2.
Я еще не достиг этого уровня, но уже приближаюсь к этим цифрам.

